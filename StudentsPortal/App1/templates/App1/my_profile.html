{%  extends 'App1/main.html' %}
{% load static %}
{% block content %}
{% load crispy_forms_tags %}

<style>
	.profile-pic{
		max-width: 200px;
		max-height:200px;
		margin: 0 auto;
		border-radius: 50%;
	}
</style>

<br>
<div class="row">
	<div class="col-md-3">
		<div class="card card-body">
			<a class="btn btn-warning" href="{% url 'home' %}"> &#8592; Back to Home</a>
			<hr>
			<h3 style="text-align: center">My Profile</h3>
			<hr>
			<img class="profile-pic" src="{{request.user.profile.profile_pic.url}}" >
      <div class="mt-3 text-center">
        <!-- <button class="btn btn-primary" type="button">
          <i class="fas fa-camera"></i>
          <span>Change Photo</span>
          <input type="file" name="">
        </button> -->
      </div>
        <hr>
		  <textarea placeholder="Enter your Bio" readonly>{{request.user.profile.bio}}</textarea>
        <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
          <div class="text-center text-sm-left mb-2 mb-sm-0">
            <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">{{request.user.firstname}} {{request.user.surname}} 
            </h4>
            <p class="mb-0">{{request.user.email}}</p> 
            {% if request.user.is_admin %}
            <span class="badge badge-secondary">Administrator</span>
            <span class="material-icons" style="color: blue;">verified</span>
            {% else %}
            <span class="badge badge-secondary">Active-User</span>
            {% endif %}
            <div class="text-muted"><small>Joined: {{request.user.date_joined}}</small></div>
            <div class="text-muted"><small>Last-Seen: {{request.user.last_login}}</small></div>
          </div>

        </div>
		</div>
	</div>
	<div class="col-md-9">
		<div class="card card-body">
			
			<form method="POST" action="" enctype="multipart/form-data">
				{% csrf_token	%}

				      <div class="form-group">
            		<div class="col-lg-8">
              			{{form.firstname|as_crispy_field }}
            		</div>
          		</div>

          		<div class="form-group">
            		<div class="col-lg-8">
              			{{form.surname|as_crispy_field }}
            		</div>
          		</div>

              <div class="form-group">
                <div class="col-lg-8">
                    {{form.country|as_crispy_field }}
                </div>
              </div>

              <div class="form-group">
                <div class="col-lg-8">
                    {{form2.profile_pic}}
                </div>
              </div>

              <div class="form-group">
                <div class="col-lg-8">
                    {{form2.bio |as_crispy_field}}
                </div>
              </div>

          				
			<input class="btn btn-success" type="submit" name="Update Information" value="Save Changes">
			</form>
		</div>
	</div>
</div>



{% endblock %}